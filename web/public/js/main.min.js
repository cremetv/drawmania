"use strict";
/*! @license
* Drawmania
* Discord Bot Web Interface
* © 2019 Marcel Hauser (https://ice-creme.de)
*/function toggleEmojiBox(){emojiOpen?($(".emoji-box").removeClass("open"),emojiOpen=!1):($(".emoji-box").addClass("open"),emojiOpen=!0)}function sendMessage(){if(""!=$("#input").val()){socket.emit("chat message",{message:$("#input").val(),serverId:$("#serverId").val(),channelId:$("#channelId").val()});var e='\n  <div class="message">\n    <div class="message__details">sent to --> <span class="message__channel">'+$("#serverId option:selected").text()+" : "+$("#channelId option:selected").text()+'</span></div>\n    <div class="message__text">\n      '+$("#input").val()+"\n    </div>\n  </div>\n  ";return $("#chat").append(e),$("#input").val(""),!1}}$(function(){var e=navigator.userAgent.toLowerCase();if(/(chrome|firefox|safari)/.test(e.toLowerCase())){var n=["padding: 20px 5px 16px","background-color: #36393E","color: #f2641c"].join(";"),o=["padding: 20px 5px 16px","background-color: #f2641c","color: #ffffff"].join(";"),s=["background-color: transparent"].join(";");console.log("\n\n %c Crafted with ♥︎ by Ice Creme %c https://ice-creme.de/ %c \n\n\n",n,o,s)}else window.console&&console.log("Crafted with love by Ice Creme - https://ice-creme.de/")});var socket=io(),emojiOpen=!1;$(".emoji-btn").on("click",toggleEmojiBox),$(".emoji-list li").on("click",function(){toggleEmojiBox()});var getChannels=function(e){var n={serverId:e.toString()};$.ajax({crossDomain:!0,method:"POST",url:"/getServer",async:!0,data:n,error:function(e){console.error(e)}}).done(function(e){$("#channelId option").remove();for(var n=0;n<e.length;n++)$("#channelId").append('<option value="'+e[n].id+'">'+e[n].name+"</option>")})};$(".server-list .server").first().parent("li").addClass("active"),$("#serverId").on("change",function(e){var n=$("#serverId").val();getChannels(n)}),$(".server").on("click",function(e){e.preventDefault(),$(".server").parent("li").removeClass("active"),$(this).parent("li").addClass("active");var n=$(this).attr("data-server");$("#serverId").val(n),$(".server-name").html($(this).attr("data-servername")),getChannels(n)}),$(".send-btn").on("click",function(e){e.preventDefault(),sendMessage()}),$("#input").on("keyup",function(e){13===e.which&&sendMessage()}),socket.on("status update",function(e){"offline"===e.status?$(".logo").removeClass("online").addClass("offline"):"online"===e.status&&$(".logo").removeClass("offline").addClass("online")}),socket.on("some event",function(){console.log("asd")}),socket.on("discord message",function(e){console.log("message sent in discord!!"),console.log("message: "+e),$("#chat").append()});